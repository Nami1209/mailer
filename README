# Mass Email Sender Tool

The **Mass Email Sender Tool** is a web application that allows users to send personalized emails to a large number of recipients efficiently. It supports features like email scheduling, personalization tags, email tracking (open rates and click-through rates), and compliance with GDPR and CAN-SPAM regulations.

---

## Features

- **Personalized Emails**: Use personalization tags (e.g., `{{name}}`, `{{email}}`) to customize email content for each recipient.
- **Email Content Formats**: Supports plain text, HTML, and Markdown for email content.
- **Email Scheduling**: Schedule emails to be sent at a specific date and time.
- **Email Tracking**: Track email opens and link clicks using tracking pixels and tracked links.
- **Batch Sending**: Send emails in batches to avoid overwhelming the email service provider.
- **Rate Limiting**: Introduce delays between batches to comply with email service provider limits.
- **GDPR Compliance**: Includes an opt-out link and requires user consent before sending emails.
- **Data Retention Policy**: Automatically deletes old campaigns and recipient data after a specified retention period.
- **User-Specific Campaigns**: Each user can only view and manage campaigns they created.

---

## Technologies Used

- **Frontend**:
  - React (with Vite)
  - Auth0 for authentication
- **Backend**:
  - Node.js
  - Express.js
  - MongoDB (for storing campaigns and recipient data)
  - Nodemailer (for sending emails)
  - Agenda (for scheduling emails)
- **Other Tools**:
  - Multer (for file uploads)
  - CSV Parser (for parsing recipient lists)
  - Dotenv (for environment variables)

---

## Prerequisites

Before running the application, ensure you have the following installed:

- Node.js (v16 or higher)
- MongoDB (or a MongoDB Atlas connection string)
- Git (optional, for cloning the repository)

---

## Setup Instructions

### 1. Clone the Repository

```bash
git clone https://github.com/codedpool/mailer.git
cd mass-email-sender
```

### 2. Install Dependencies

Install dependencies for both the frontend and backend:

```bash
# Install backend dependencies
cd backend
npm install

# Install frontend dependencies
cd ../frontend
npm install
```

### 3. Set Up Environment Variables

Create a `.env` file in the `backend` and `frontend` directories with the following variables:

#### Backend `.env`

```plaintext
MONGODB_URI=mongodb://localhost:27017/mailer
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-email-password
PORT=10000
DATA_RETENTION_DAYS=30
BACKEND_URL=https://localhost:10000
BATCH_SIZE=10
DELAY_BETWEEN_BATCHES=10000
```

#### Frontend `.env`

```plaintext
VITE_BACKEND_URL=https://localhost:10000
VITE_FRONTEND_URL=http://localhost:5173
VITE_AUTH0_DOMAIN=your-auth0-domain.auth0.com
VITE_AUTH0_CLIENT_ID=your-auth0-client-id
VITE_AUTH0_REDIRECT_URI=http://localhost:5173
```

### 4. Start the Backend Server

Navigate to the `backend` directory and start the server:

```bash
cd backend
npm start
```

The backend server will run on `http://localhost:10000`.

### 5. Start the Frontend Application

Navigate to the `frontend` directory and start the development server:

```bash
cd frontend
npm run dev
```

The frontend application will run on `http://localhost:5173`.

---

## Usage

### 1. Log In
- Use the **Login** button to authenticate using Auth0.
- Only authenticated users can access the application.

### 2. Create a New Campaign
- Upload a CSV file containing recipient email addresses and personalized fields.
- Enter the email subject and content (plain text, HTML, or Markdown).
- Optionally, schedule the email for a later date and time.

### 3. Track Campaign Performance
- View tracking reports for all campaigns, including open rates and click-through rates.
- Click on a campaign to view detailed recipient-level tracking data.

### 4. Unsubscribe
- Recipients can unsubscribe using the opt-out link included in every email.

---

## API Endpoints

### Backend API

| Endpoint                     | Method | Description                                      |
|------------------------------|--------|--------------------------------------------------|
| `/send-email`                | POST   | Send or schedule emails to recipients.          |
| `/tracking-reports`          | GET    | Fetch tracking reports for all campaigns.       |
| `/campaign-details/:campaignId` | GET    | Fetch details of a specific campaign.           |
| `/track/:trackingId`         | GET    | Track email opens (used by the tracking pixel). |
| `/click/:trackingId`         | GET    | Track link clicks and redirect to frontend.     |
| `/unsubscribe/:email`        | GET    | Handle unsubscribe requests.                    |

---

## Folder Structure

```
mass-email-sender/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ server.js
â”‚   â””â”€â”€ .env
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
```

---

## Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository.
2. Create a new branch for your feature or bugfix.
3. Commit your changes and push to the branch.
4. Submit a pull request.

---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

## Contact

For questions or feedback, please contact:

- **Your Name**  
- **Email**: codedpool10@gmail.com 
- **GitHub**: https://github.com/codedpool

---

Enjoy using the **Mass Email Sender Tool**! ðŸš€
